
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Islandora CLAW">
      
      
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.2, mkdocs-material-1.4.1">
    
    
      
        <title>Metadata - Islandora CLAW</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-76741b64bc.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-66fa0d9bba.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="red" data-md-color-accent="red">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="../.." title="Islandora CLAW" class="md-logo md-header-nav__button">
            <img src="../../assets/claw.png" width="24" height="24">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  User Documentation
                </span>
              
            
            Metadata
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
            


  


  <a href="https://github.com/Islandora-CLAW/CLAW" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-logo md-nav__button">
        <img src="../../assets/claw.png">
      </i>
    
    Islandora CLAW
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/Islandora-CLAW/CLAW" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Summary" class="md-nav__link">
      Summary
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      User Documentation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        User Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../user-intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../objects/" title="Nodes" class="md-nav__link">
      Nodes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../datastreams/" title="Media" class="md-nav__link">
      Media
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../creating-an-object/" title="Make an Image" class="md-nav__link">
      Make an Image
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../collections/" title="Collections" class="md-nav__link">
      Collections
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Metadata
      </label>
    
    <a href="./" title="Metadata" class="md-nav__link md-nav__link--active">
      Metadata
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#content-types" title="Content Types" class="md-nav__link">
    Content Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vocabularies" title="Vocabularies" class="md-nav__link">
    Vocabularies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-types" title="Field Types" class="md-nav__link">
    Field Types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#edtf-extended-date-time-format" title="EDTF (Extended Date Time Format)" class="md-nav__link">
    EDTF (Extended Date Time Format)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typed-relation" title="Typed Relation" class="md-nav__link">
    Typed Relation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../searching/" title="Searching" class="md-nav__link">
      Searching
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../context/" title="Context" class="md-nav__link">
      Context
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../create_update_views/" title="Views" class="md-nav__link">
      Views
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../users/" title="Users" class="md-nav__link">
      Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../placing-blocks/" title="Blocks" class="md-nav__link">
      Blocks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      REST Documentation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        REST Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/using-rest-endpoints/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/rest-get/" title="GET" class="md-nav__link">
      GET
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/rest-create/" title="POST/PUT" class="md-nav__link">
      POST/PUT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/rest-patch/" title="PATCH" class="md-nav__link">
      PATCH
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/rest-delete/" title="DELETE" class="md-nav__link">
      DELETE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/rest-signposting/" title="Signposting" class="md-nav__link">
      Signposting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Developer Documentation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Developer Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/install-enable-drupal-modules/" title="Installing Modules" class="md-nav__link">
      Installing Modules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/running-automated-tests/" title="Running Tests" class="md-nav__link">
      Running Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/flysystem/" title="Flysystem" class="md-nav__link">
      Flysystem
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/versioning/" title="Versioning Policy" class="md-nav__link">
      Versioning Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/docs-build/" title="Documentation Style Guide" class="md-nav__link">
      Documentation Style Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/docs-build/" title="How to Build Documentation" class="md-nav__link">
      How to Build Documentation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Migration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Migration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/migrate-csv/" title="CSV" class="md-nav__link">
      CSV
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical-documentation/migrate-7x/" title="Islandora 7" class="md-nav__link">
      Islandora 7
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Contributing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Contributing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/CONTRIBUTING/" title="How to contribute" class="md-nav__link">
      How to contribute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/committers/" title="Committers" class="md-nav__link">
      Committers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#content-types" title="Content Types" class="md-nav__link">
    Content Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vocabularies" title="Vocabularies" class="md-nav__link">
    Vocabularies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-types" title="Field Types" class="md-nav__link">
    Field Types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#edtf-extended-date-time-format" title="EDTF (Extended Date Time Format)" class="md-nav__link">
    EDTF (Extended Date Time Format)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typed-relation" title="Typed Relation" class="md-nav__link">
    Typed Relation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Islandora-CLAW/CLAW/edit/master/docs/user-documentation/metadata.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                <h1 id="metadata-in-islandora-8">Metadata in Islandora 8</h1>
<blockquote>
<p>TL;DR: In Islandora 8 metadata values are stored in <em>fields</em> attached to <em>entities</em> (objects) which are then serialized as JSON-LD before being submitted to Fedora and/or indexed in a triple-store.</p>
<div class="admonition note">
<p class="admonition-title">Drupal 8 terminology</p>
</div>
<p>In Drupal 8, Fields can be attached to <em>entity sub-types</em> (e.g. Content types, Vocabularies) or <em>entities</em> (Users, Files). For more on Fields, see <a href="https://www.drupal.org/docs/user_guide/en/planning-data-types.html">"2.3 Content Entities and Fields"</a> and <a href="https://www.drupal.org/docs/user_guide/en/structure-fields.html">"6.3 Adding Basic Fields to a Content Type"</a> in the Official Guide.</p>
</blockquote>
<p>As described in the <a href="../objects/">objects section</a>, Islandora 8 digital objects are comprised of <em>nodes</em> for descriptive metadata, <em>media</em> for technical metadata, and <em>files</em> for the binary objects. This section describes how descriptive metadata is managed in Islandora 8.</p>
<h2 id="content-types">Content Types</h2>
<p>In Drupal, <em>Content Types</em> are groupings of fields and their configurations, forming what is essentially a <em>metadata profile</em> for a digital object's descriptive record. The field configurations include how data is entered, how it is displayed, how many values can be stored, and how long the value can be. Some configurations, such as data entry and display, can be changed at any time. Others, such as how long a value can be, cannot be changed once content has been created without first deleting all content of that type.</p>
<p>For example, the 'islandora_demo' module provides a <em>Repository Item</em> content type that defines several fields including "Alternative Title" and "Date". The "Manage fields" page for Repository Item shows a list of the fields it includes as well as tabs for changing the input forms and display modes. The "Title" field does not appear in this list but it is still included with every content type. (See the "<a href="content_types.md">Create / Update a Content Type</a>" section for more details on creating and configuring fields.)</p>
<p><img alt="Screenshot of the &quot;Manage fields&quot; page for the &quot;Repository Item&quot; content type from islandora_demo." src="../../assets/metadata_content_type_screenshot.png" /></p>
<blockquote>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
</div>
<p>The included title field is limited to 255 characters; if your content has longer titles it is encouraged to create a separate long_title field to store the full title and reserve the default title field for a display title.</p>
<div class="admonition tip">
<p class="admonition-title">7.x Migration Note: What about my XML?</p>
</div>
<p>In 7.x, metadata were (usually) stored within XML datastreams such as MODS or DC. In Islandora 8 we are breaking out
individual metadata elements into fields instead of using an attached XML document. The Metadata Interest Group is developing a default mapping which will provide a basic, yet customizable, transform between MODS metadata and Drupal fields in Islandora Demo.</p>
<p>It is still possible to attach an XML file to a Islandora 8 object as a Media (see Datastreams), however there is no mechanism in Islandora 8 for editing XML in a user-friendly way.</p>
</blockquote>
<p>A specific instance of a content type is called a <em>node</em>. In other words, a <em>node</em> is the descriptive metadata for a particular digital object and the <em>content type</em> is the node's metadata profile. Once a node is created, it cannot change its content type. To change a digital object's metadata profile (content type) a repository manager would need to create a new descriptive record (node) using the new metadata profile and then update the corresponding media records to point to the new descriptive record.</p>
<h2 id="vocabularies">Vocabularies</h2>
<p>In Drupal, <em>Taxonomy Vocabularies</em> (or simply 'Vocabularies') are also entity subtypes that group fields and their configurations. Unlike content types, they are intended to be used as descriptive attributes of content and have hierarchy built in. Whereas instances of content types are called nodes, items in a vocabulary are called <em>terms</em>.</p>
<p>For example, Islandora includes the 'Islandora Models' vocabulary which includes the terms 'Audio', 'Binary', 'Collection', 'Image', and 'Video'. By linking to one of these terms in the 'Islandora Models' vocabulary a repository manager can tell that the node (digital object) should be considered an 'Image' or 'Audio', etcetera. The Controlled Access Terms module provides additional vocabularies representing Corporate Bodies, Persons, Families, Geographic Locations, and Subjects. Each of these vocabularies has its own set of fields allowing repositories to further describe them. Repository item nodes can then reference terms in these vocabularies. See 'Entity Reference fields' in the 'Field Types' section below.</p>
<!--[Geographic Location currently has hierarchy turned off. This section will apply once https://github.com/Islandora-CLAW/controlled_access_terms/pull/21 is merged.] Another example, this time illustrating hierarchy, is the 'Geographic Location' vocabulary. Although no terms are listed by default, a repository could create a 'Western Hemisphere' term and then create a 'North America' term as a child of the 'Western Hemisphere' term, etcetera.

![Screenshot of the Geographic Locations vocabulary showing example terms in a hierarchy.](../assets/metadata_geographic_location_list.png)
-->

<h2 id="field-types">Field Types</h2>
<p>Each field in Drupal has a <em>type</em> that defines its <em>properties</em> and behavior such as text, date, number, and boolean fields. These field types also have <em>widgets</em> and <em>formatters</em> that control entry forms and display, respectively. The <a href="https://www.drupal.org/docs/8/api/entity-api/fieldtypes-fieldwidgets-and-fieldformatters">Drupal 8 documentation on FieldTypes, FieldWidgets, and FieldFormatters</a> includes a list of the core field types.</p>
<p><em>Entity Reference</em> fields are a special type of field that creates a relationship between two entities. The field's configuration options include which kind of entities can be referenced. The 'Repository Item' content type, provided by islandora_demo, includes several entity reference fields that reference vocabularies defined by the islandora and controlled_access_terms modules.</p>
<p>The 'Member Of' field is an entity reference field that allows creating digital object hierarchies (collections and, potentially, complex digital objects) by "pointing" one or many Repository items at another common "parent".</p>
<p>Modules can provide their own field types, formatters, and widgets. The controlled_access_terms module provides two custom field types: EDTF and Typed Relations.</p>
<h3 id="edtf-extended-date-time-format">EDTF (<a href="https://www.loc.gov/standards/datetime/edtf.html">Extended Date Time Format</a>)</h3>
<p>The EDTF field type is stored as a string in the database; however the corresponding widget validates the value submitted in the data entry form and will not accept an invalid value while the corresponding formatter can be configured to display the EDTF value in a variety of ways.</p>
<p>Example of a valid EDTF value ('1943-05') and an invalid value ('1943 May') with the corresponding error message:
<img alt="Screenshot of both a valid (&quot;1943-05&quot;) and an invalid (&quot;1943 May&quot;) EDTF entry. Displays the error message &quot;Could not parse the date 'May 1943' Years must be at least 4 characters long.&quot;" src="../../assets/metadata_edtf_invalid.png" /></p>
<p>Example of how the EDTF formatter settings can change the display of an EDTF value:
<img alt="Combined screenshots displaying the EDTF default formatter settings, default on top and modified settings below, with an example formatted EDTF value displayed for each." src="../../assets/metadata_edtf_formatters.png" /></p>
<h3 id="typed-relation">Typed Relation</h3>
<p>The standard Entity reference fields are limited to a single type of relationship. For example, the islandora_demo module could use an entity reference field in the 'Repository item' content type for the 'creator' field, linking nodes to terms in the People, Corporate Body, and Family vocabularies. However, there are many different types of 'creators', including 'authors', 'illustrators', and 'architects'. To enable all these types of relationships using entity reference fields a repository manager would need to create a new field for each of them, which would quickly become unwieldy. The Controlled Access Terms module resolves this problem by providing a <em>Typed Relation</em> field type.</p>
<p>The Typed Relation field type combines an entity reference <em>property</em> and a 'relation type' property in a single field and extends the JSON-LD serialization to override a field's RDF mapping in favor of the selected 'relation type'. For example, instead of a 'creator' field, Repository item content type defines a 'Linked Agent' field and is configured with a list of available relationships that comes from the MARC relators list. (Configurable at '/admin/structure/types/manage/islandora_object/fields/node.islandora_object.field_linked_agent'.) The available relations are configured by providing the RDF namespace, a colon, the RDF relationship value, a pipe delimiter, and a display value for the user interface. (See the RDF Mapping section of '<a href="content_types.md">Create / Update a Content Type</a>' for more details.)</p>
<p><img alt="Screenshot of the 'Available Relations' configuration text box for the 'Linked Agent' field." src="../../assets/metadata_available_relations_config.png" /></p>
<h1 id="getting-metadata-into-fedora-and-a-triple-store">Getting Metadata into Fedora and a Triple-store</h1>
<p>The above sections described how Drupal manages and stores metadata, but the key feature of Islandora 8 is pushing that metadata into a Fedora 4+ repository and a triple-store. Islandora does this by using Drupal's serialization capabilities to provide a JSON-LD serialization that can be ingested by Fedora 4+ repository and triple-stores. In response to write operations, it sends notifications to the repository and triple-store that a node or term is available to ingest.</p>
<p>The JSON-LD module works by taking node or term and its corresponding RDF mapping to create a JSON-LD serialization. The RDF mapping for a content type or vocabulary lists its fields and the RDF predicates that should be used for them.</p>
<p>For example, below is the JSON-LD serialization for an example Repository item node created in a standard claw-playbook based vagrant VM:</p>
<pre><code>{
  &quot;@graph&quot;:[
    {
      &quot;@id&quot;:&quot;http://localhost:8000/node/1?_format=jsonld&quot;,
      &quot;@type&quot;:[
        &quot;http://pcdm.org/models#Object&quot;
      ],
      &quot;http://purl.org/dc/terms/title&quot;:[
        {
          &quot;@value&quot;:&quot;New York, New York. A large lobster brought in by the New England fishing boat [Fulton Fish Market]&quot;,
          &quot;@language&quot;:&quot;en&quot;
        }
      ],
      &quot;http://schema.org/author&quot;:[
        {
          &quot;@id&quot;:&quot;http://localhost:8000/user/1?_format=jsonld&quot;
        }
      ],
      &quot;http://schema.org/dateCreated&quot;:[
        {
          &quot;@value&quot;:&quot;2019-03-14T19:05:24+00:00&quot;,
          &quot;@type&quot;:&quot;http://www.w3.org/2001/XMLSchema#dateTime&quot;
        }
      ],
      &quot;http://schema.org/dateModified&quot;:[
        {
          &quot;@value&quot;:&quot;2019-03-14T19:20:51+00:00&quot;,
          &quot;@type&quot;:&quot;http://www.w3.org/2001/XMLSchema#dateTime&quot;
        }
      ],
      &quot;http://purl.org/dc/terms/date&quot;:[
        {
          &quot;@value&quot;:&quot;1943-05&quot;,
          &quot;@type&quot;:&quot;http://www.w3.org/2001/XMLSchema#string&quot;
        },
        {
          &quot;@value&quot;:&quot;1943-05&quot;,
          &quot;@type&quot;:&quot;http://www.w3.org/2001/XMLSchema#gYearMonth&quot;
        }
      ],
      &quot;http://purl.org/dc/terms/extent&quot;:[
        {
          &quot;@value&quot;:&quot;1 negative&quot;,
          &quot;@type&quot;:&quot;http://www.w3.org/2001/XMLSchema#string&quot;
        }
      ],
      &quot;http://purl.org/dc/terms/identifier&quot;:[
        {
          &quot;@value&quot;:&quot;D 630714&quot;,
          &quot;@type&quot;:&quot;http://www.w3.org/2001/XMLSchema#string&quot;
        }
      ],
      &quot;http://purl.org/dc/terms/type&quot;:[
        {
          &quot;@id&quot;:&quot;http://localhost:8000/taxonomy/term/11?_format=jsonld&quot;
        }
      ],
      &quot;http://purl.org/dc/terms/rights&quot;:[
        {
          &quot;@value&quot;:&quot;No known restrictions. For information, see U.S. Farm Security Administration/Office of War Information Black &amp; White Photographs(http://www.loc.gov/rr/print/res/071_fsab.html)&quot;,
          &quot;@type&quot;:&quot;http://www.w3.org/2001/XMLSchema#string&quot;
        }
      ],
      &quot;http://purl.org/dc/terms/subject&quot;:[
        {
          &quot;@id&quot;:&quot;http://localhost:8000/taxonomy/term/26?_format=jsonld&quot;
        }
      ],
      &quot;http://schema.org/sameAs&quot;:[
        {
          &quot;@value&quot;:&quot;http://localhost:8000/node/1?_format=jsonld&quot;
        }
      ]
    },
    {
      &quot;@id&quot;:&quot;http://localhost:8000/user/1?_format=jsonld&quot;,
      &quot;@type&quot;:[
        &quot;http://schema.org/Person&quot;
      ]
    },
    {
      &quot;@id&quot;:&quot;http://localhost:8000/taxonomy/term/11?_format=jsonld&quot;,
      &quot;@type&quot;:[
        &quot;http://schema.org/Thing&quot;
      ]
    },
    {
      &quot;@id&quot;:&quot;http://localhost:8000/taxonomy/term/26?_format=jsonld&quot;,
      &quot;@type&quot;:[
        &quot;http://schema.org/Thing&quot;
      ]
    }
  ]
}
</code></pre>

<p>Because the Repository item's title field is mapped to 'dc:title' in the RDF mapping, the node's title value appears like this in the JSON-LD output:</p>
<pre><code>&quot;http://purl.org/dc/terms/title&quot;:[
  {
    &quot;@value&quot;:&quot;New York, New York. A large lobster brought in by the New England fishing boat [Fulton Fish Market]&quot;,
    &quot;@language&quot;:&quot;en&quot;
  }
],
</code></pre>

<p>Also note that the URI (<code>@id</code>) value is 'http://localhost:8000/node/1?_format=jsonld'. To see how any node or term in a repository will be serialized to JSON-LD add <code>?_format=jsonld</code> to the node's URI.</p>
<p>When a node or term is updated a Drupal Context condition emits an indexing event to notify the repository and triple-store that it is should be ingested/updated. <!-- We should link our documentation on Contexts and events, wherever that is. --></p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../collections/" title="Collections" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Collections
              </span>
            </div>
          </a>
        
        
          <a href="../searching/" title="Searching" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Searching
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://twitter.com/islandora" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-3964c0cb56.js"></script>
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>