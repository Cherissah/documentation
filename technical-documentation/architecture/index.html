<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Architecture - Islandora 7.x-2.x</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Architecture";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Islandora 7.x-2.x</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <ul class="subnav">
    <li><span>About</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../..">Islandora 7.x-2.x</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../camel/sync/README/">Islandora-Sync</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../drupal/islandora/README/">Islandora (Drupal module)</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Installation</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../install/README/">Installation (Vagrant)</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Contributing</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../contributing/contributing/">How to contribute</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../contributing/committers/">Committers</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../contributing/hacking-on-islandora/">Hacking on Islandora</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>User Documentation</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-documentation/2xfor1x/">Islandora 2.x for Islandora 1.x Users</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-documentation/creating-collections-in-islandora-7.x-2.x/">Creating Collections in Islandora 7.x-2.x</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-documentation/adding-object-to-collection-in-islandora-7.x-2.x/">Adding an object to a collection in Islandora 7.x-2.x</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-documentation/editing-basic-image-form-in-islandora-7.x-2.x/">Editing the Basic Image Form in Islandora 7.x-2.x</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-documentation/form-field-select-taxonomy-in-islandora-7.x-2.x/">Adding a Drupal Taxonomy in Islandora 7.x-2.x</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Technical Documentation</span></li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Architecture</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#architecture">Architecture</a></li>
                
                    <li><a class="toctree-l4" href="#overview">Overview</a></li>
                
                    <li><a class="toctree-l4" href="#scalability">Scalability</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../services/">Middleware Services</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../commands/">Commands</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../docs-build/">How to build documenation</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Migration</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../migration/migration/">Migration</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../migration/fedora-namespace-predicates/">Fedora namespace predicates</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../migration/islandora-namespace-predicates/">Islandora namespace predicates</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Islandora 7.x-2.x</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Technical Documentation &raquo;</li>
        
      
    
    <li>Architecture</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/Islandora-CLAW/CLAW" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="architecture">Architecture</h1>
<h2 id="overview">Overview</h2>
<p>Islandora 7.x-2.x is a large and comprehensive technology stack that encompasses a Fedora 4 repository, a Drupal CMS, and an Apache Camel based middleware layer to integrate the two along with all of the other complementary technologies required for digital asset management and preservation (full text search engine, triplestore, command line tools, etc...).  Here is a (somewhat) exhaustive list of the technologies in an Islandora stack:</p>
<ul>
<li>Fedora 4 (deployed in a servlet container such as Tomcat or Jetty)</li>
<li>Drupal 7 (deployed in an Apache 2 web server), which includes:<ul>
<li>A relational database such as MySQL or PostgreSQL</li>
<li>Several third-party Drupal modules from drupal.org</li>
<li>Several Islandora Drupal modules</li>
<li>Several JavaScript viewers for rendering content (PDF.js, Video.js, etc...)</li>
</ul>
</li>
<li>Apache Solr (deployed in either an OSGi or servlet container)</li>
<li>Blazegraph (or the triple store of your choice, most likely deployed in a servlet container)</li>
<li>Apache Camel based middleware (all deployed in an OSGi container), which includes:<ul>
<li>Islandora Sync - Asynchronous and event driven software to generate derivatives and align Drupal fields with Fedora RDF</li>
<li>Islandora Services - RESTful web services exposed through the OSGi container that accept Drupal information and manipulate Fedora resources</li>
<li>Fedora Messaging Application Toolbox - Indexes Fedora content in the triplestore</li>
</ul>
</li>
<li>Islandora Commands - A command-line PHP script utilized by Services and Sync to provide processing capabilities beyond what can be done in a Blueprint XML file</li>
<li>Several command line tools for derivative generation:<ul>
<li>ImageMagick - For image manipulation</li>
<li>Tesseract - For OCR generation</li>
<li>FFmpeg - For video processing</li>
<li>LAME - For audio processing</li>
<li>FITS - For technical metadata generation</li>
<li>and much much more as functionality requires...</li>
</ul>
</li>
</ul>
<p>Here's an image representing the various components of the stack and how they interoperate:</p>
<h2 id="scalability">Scalability</h2>
<p>One of the main goals with the 7.x-2.x project is to allow for horizontal scalability, and the architecture of the stack has been designed with this in mind.  No assumptions are made requiring any of the components to be on the same machine, so it can all be split apart onto multiple resources.  Most of the components also provide some sort of horizontal scalability through sharding, replication, or both.  If desired, the following components can be clustered through configuration and their respective installation procedures:</p>
<ul>
<li>Fedora 4<ul>
<li>Fedora 4 sits on top of Modeshape, which provides both replication and sharding capabilities.  See https://docs.jboss.org/author/display/MODE/Clustering</li>
</ul>
</li>
<li>Apache Solr<ul>
<li>Solr indices can be sharded to allow for distributed searching. See https://cwiki.apache.org/confluence/display/solr/Distributed+Search+with+Index+Sharding</li>
</ul>
</li>
<li>Blazegraph<ul>
<li>Blazegraph was chosen as the ‘default’ triplestore for Islandora because it is well known to provide both sharding and replication capabilities.  See https://wiki.blazegraph.com/wiki/index.php/HAJournalServer and  https://wiki.blazegraph.com/wiki/index.php/ClusterSetupGuide</li>
</ul>
</li>
<li>Drupal<ul>
<li>The Drupal front end can be scaled out by having multiple Apache webservers behind a load balancer</li>
<li>Scaling the relational database (while difficult) is possible, though typical vertical scaling is the first approach taken</li>
</ul>
</li>
</ul>
<p>While not yet implemented, it will be possible to scale the Camel based middleware both the web services and the sync based listeners through the use of Camel's load balancer design pattern. See https://camel.apache.org/load-balancer.html</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../services/" class="btn btn-neutral float-right" title="Middleware Services"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../user-documentation/form-field-select-taxonomy-in-islandora-7.x-2.x/" class="btn btn-neutral" title="Adding a Drupal Taxonomy in Islandora 7.x-2.x"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../../user-documentation/form-field-select-taxonomy-in-islandora-7.x-2.x/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../services/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
