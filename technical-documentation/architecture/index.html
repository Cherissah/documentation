<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Architecture - Islandora CLAW</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Islandora CLAW">
    <meta property="og:image" content="None/../../">
    <meta name="apple-mobile-web-app-title" content="Islandora CLAW">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../../assets/fonts/icon.eot?52m981');
      	src: url('../../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../../assets/stylesheets/application-a422ff04cc.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
    <script src="../../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class=" ">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                Technical Documentation <i class="icon icon-link"></i>
              
            
          </span>
        
        Architecture
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/Islandora-CLAW/CLAW" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>
          Islandora CLAW
          <span class="version">
            
          </span>
        </strong>
        
          <br>
          Islandora-CLAW/CLAW
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/Islandora-CLAW/CLAW/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/Islandora-CLAW/CLAW/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <span class="section">About</span>
    <ul>
      
        
  <li>
    <a class="" title="Islandora CLAW" href="../..">
      Islandora CLAW
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Introduction to Islandora CLAW" href="../../user-documentation/intro-to-claw/">
      Introduction to Islandora CLAW
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Alpaca" href="../../alpaca/README/">
      Alpaca
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Chullo" href="../../chullo/README/">
      Chullo
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Crayfish" href="../../crayfish/README/">
      Crayfish
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="PDX" href="../../pdx/README/">
      PDX
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Islandora (Drupal module)" href="../../islandora/README/">
      Islandora (Drupal module)
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Installation</span>
    <ul>
      
        
  <li>
    <a class="" title="Installation (Vagrant)" href="../../install/README/">
      Installation (Vagrant)
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Contributing</span>
    <ul>
      
        
  <li>
    <a class="" title="How to contribute" href="../../contributing/CONTRIBUTING/">
      How to contribute
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Committers" href="../../contributing/committers/">
      Committers
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Hacking on Islandora" href="../../contributing/hacking-on-islandora/">
      Hacking on Islandora
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">User Documentation</span>
    <ul>
      
        
  <li>
    <a class="" title="Islandora CLAW for Islandora 1.x Users" href="../../user-documentation/2xfor1x/">
      Islandora CLAW for Islandora 1.x Users
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Creating Collections in Islandora CLAW" href="../../user-documentation/creating-collections-in-islandora-7.x-2.x/">
      Creating Collections in Islandora CLAW
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Adding an object to a collection in Islandora CLAW" href="../../user-documentation/adding-object-to-collection-in-islandora-7.x-2.x/">
      Adding an object to a collection in Islandora CLAW
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Editing the Basic Image Form in Islandora CLAW" href="../../user-documentation/editing-basic-image-form-in-islandora-7.x-2.x/">
      Editing the Basic Image Form in Islandora CLAW
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Adding a Drupal Taxonomy in Islandora CLAW" href="../../user-documentation/form-field-select-taxonomy-in-islandora-7.x-2.x/">
      Adding a Drupal Taxonomy in Islandora CLAW
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Technical Documentation</span>
    <ul>
      
        
  <li>
    <a class="current" title="Architecture" href="./">
      Architecture
    </a>
    
      
        
      
      
        <ul>
          
            <li class="anchor">
              <a title="Overview" href="#overview">
                Overview
              </a>
            </li>
          
            <li class="anchor">
              <a title="Scalability" href="#scalability">
                Scalability
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
        
  <li>
    <a class="" title="Middleware Services" href="../services/">
      Middleware Services
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Commands" href="../commands/">
      Commands
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="How to build documenation" href="../docs-build/">
      How to build documenation
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Semantic Versioning Policy" href="../versioning/">
      Semantic Versioning Policy
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Migration</span>
    <ul>
      
        
  <li>
    <a class="" title="Migration" href="../../migration/migration/">
      Migration
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Fedora namespace predicates" href="../../migration/fedora-namespace-predicates/">
      Fedora namespace predicates
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Islandora namespace predicates" href="../../migration/islandora-namespace-predicates/">
      Islandora namespace predicates
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <h1 id="architecture">Architecture</h1>
<h2 id="overview">Overview</h2>
<p>Islandora 7.x-2.x is a large and comprehensive technology stack that encompasses a Fedora 4 repository, a Drupal CMS, and an Apache Camel based middleware layer to integrate the two along with all of the other complementary technologies required for digital asset management and preservation (full text search engine, triplestore, command line tools, etc...).  Here is a (somewhat) exhaustive list of the technologies in an Islandora stack:</p>
<ul>
<li>Fedora 4 (deployed in a servlet container such as Tomcat or Jetty)</li>
<li>Drupal 7 (deployed in an Apache 2 web server), which includes:<ul>
<li>A relational database such as MySQL or PostgreSQL</li>
<li>Several third-party Drupal modules from drupal.org</li>
<li>Several Islandora Drupal modules</li>
<li>Several JavaScript viewers for rendering content (PDF.js, Video.js, etc...)</li>
</ul>
</li>
<li>Apache Solr (deployed in either an OSGi or servlet container)</li>
<li>Blazegraph (or the triple store of your choice, most likely deployed in a servlet container)</li>
<li>Apache Camel based middleware (all deployed in an OSGi container), which includes:<ul>
<li>Islandora Sync - Asynchronous and event driven software to generate derivatives and align Drupal fields with Fedora RDF</li>
<li>Islandora Services - RESTful web services exposed through the OSGi container that accept Drupal information and manipulate Fedora resources</li>
<li>Fedora Messaging Application Toolbox - Indexes Fedora content in the triplestore</li>
</ul>
</li>
<li>Islandora Commands - A command-line PHP script utilized by Services and Sync to provide processing capabilities beyond what can be done in a Blueprint XML file</li>
<li>Several command line tools for derivative generation:<ul>
<li>ImageMagick - For image manipulation</li>
<li>Tesseract - For OCR generation</li>
<li>FFmpeg - For video processing</li>
<li>LAME - For audio processing</li>
<li>FITS - For technical metadata generation</li>
<li>and much much more as functionality requires...</li>
</ul>
</li>
</ul>
<p>Here's an image representing the various components of the stack and how they interoperate:</p>
<h2 id="scalability">Scalability</h2>
<p>One of the main goals with the 7.x-2.x project is to allow for horizontal scalability, and the architecture of the stack has been designed with this in mind.  No assumptions are made requiring any of the components to be on the same machine, so it can all be split apart onto multiple resources.  Most of the components also provide some sort of horizontal scalability through sharding, replication, or both.  If desired, the following components can be clustered through configuration and their respective installation procedures:</p>
<ul>
<li>Fedora 4<ul>
<li>Fedora 4 sits on top of Modeshape, which provides both replication and sharding capabilities.  See https://docs.jboss.org/author/display/MODE/Clustering</li>
</ul>
</li>
<li>Apache Solr<ul>
<li>Solr indices can be sharded to allow for distributed searching. See https://cwiki.apache.org/confluence/display/solr/Distributed+Search+with+Index+Sharding</li>
</ul>
</li>
<li>Blazegraph<ul>
<li>Blazegraph was chosen as the ‘default’ triplestore for Islandora because it is well known to provide both sharding and replication capabilities.  See https://wiki.blazegraph.com/wiki/index.php/HAJournalServer and  https://wiki.blazegraph.com/wiki/index.php/ClusterSetupGuide</li>
</ul>
</li>
<li>Drupal<ul>
<li>The Drupal front end can be scaled out by having multiple Apache webservers behind a load balancer</li>
<li>Scaling the relational database (while difficult) is possible, though typical vertical scaling is the first approach taken</li>
</ul>
</li>
</ul>
<p>While not yet implemented, it will be possible to scale the Camel based middleware both the web services and the sync based listeners through the use of Camel's load balancer design pattern. See https://camel.apache.org/load-balancer.html</p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../../user-documentation/form-field-select-taxonomy-in-islandora-7.x-2.x/" title="Adding a Drupal Taxonomy in Islandora CLAW">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Adding a Drupal Taxonomy in Islandora CLAW
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../services/" title="Middleware Services">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Middleware Services
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '../..';
      var repo_id  = 'Islandora-CLAW/CLAW';
    </script>
    <script src="../../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>